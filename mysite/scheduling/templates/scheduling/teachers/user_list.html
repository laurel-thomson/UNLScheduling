{% extends 'in_room_base_teacher.html' %}

{% block room_name %}{{room.name}}{% endblock %}

{% block term_link %}<li><a href="{% url 'teachers:term_list' room.id %}">Terms</a></li>{% endblock %}
{% block user_link %}<li class="active"><a href="{% url 'teachers:user_list' room.id %}">Users</a></li>{% endblock %}
    

{% block content %}

<h2>Users in Room</h2>
{% for p_user in privileged_users %}
    <p>{{ p_user.username }} 
    {% if p_user.id == room.owner.id %}
    {% elif user.id == room.owner.id or p_user.is_student %}
        <a href="{% url 'teachers:remove_user' room.id p_user.id %}">Remove from room</a></p>
    {% endif %}
{% endfor %}

<h2>Add more users to the room</h2>

{% load crispy_forms_tags %}  
<form action="" method="POST">
    {% csrf_token %}
    <div class="form-row">
        <div class="form-group col-md-1 mb-0">
            <select name="users">
                {% for user in unprivileged_users %}
                    <option value="{{user.id}}">{{user.username}}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group col-md-1 mb-0">
            <input type="submit" value="Submit" class="btn btn-primary">
        </div>
    </div>
</form>

{% endblock %}