{% extends 'base.html' %}

{% block content %}

<h2>Term Schedule</h2>
  
    <p>The schedule has not been finalized. <a href="{% url 'teachers:finalize_schedule' room.id term.id %}">Finalize the schedule</a></p>

    <h3>Time Preferences</h2>

    {% for slot, preferences in schedule.items %}
        <p>{{ slot.day }}: {{ slot.start_time }} - {{ slot.end_time }}</p>
        <ul>
            {% for pref in preferences %}
                <li>{{ pref.user_id }}: Preference type = {{ pref.preference_type }}</li>
            {% endfor %}
        </ul>
    {% endfor %}

    <h2>Add time slot</h2>

    <form action="" method="post">
        {% csrf_token %}
        <table>
            {{ form.as_table }}
        </table>
        <input type="submit" value="Submit">
    </form>

    <p><a href="{% url 'teachers:delete_term' room.id term.id %}" onclick="return confirm('Are you sure?')">Delete this Term</a></p>

{% endblock %}